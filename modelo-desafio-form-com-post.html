
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous"></script>

    <style>
        .blue{
            background-color: #4c4cff;
            color: #fff;
        }

        .full-page{
            height: 100vh;
        }
    </style>

</head>
<body>
    <div id="app"></div>

    <script>
        const app = document.querySelector('#app')
        app.innerHTML = `
                        <div class="container">
                            <div class="card">
                                <div class="card-body"> 
                                    <div class="mb-3">
                                        <label for="exampleFormControlInput1" class="form-label">Email address</label>
                                        <input type="name" class="form-control" id="name" placeholder="Seu Nome">
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleFormControlTextarea1" class="form-label">Example textarea</label>
                                        <input type="text" class="form-control" id="age" placeholder="Sua idade">
                                    </div>
                                    <button type="submit" onclick="SecondScreen()" class="btn btn-primary">Enviar</button>
                                </div>
                            </div>
                        </div> <div id="root"></div>`;


        


                            
        function SecondScreen() {
            let userName = document.getElementById('name').value;
            let ageUser = document.getElementById('age').value;
            let rootDiv = document.querySelector('#root')

            let LoadContent = `<div class="d-flex justify-content-center align-items-center full-page">
                                    <div class="spinner-grow d-flex justify-content-center" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                                `;
             
            
            let Content = ` <div class="container">
                                <div class="card">
                                    <div class="card-body">
                                        <h1> Seu nome é ${userName} e você tem ${ageUser} anos.</h1>
                                        <h2>Seja bem vindo</h2>
                                    </div>
                                </div>         
                            </div>`;


            app.innerHTML = LoadContent
            

            const URL = 'https://webhook.site/f6f8e2ab-eb9e-4701-8c92-7a10a5f8b872';
            const Body = {
                name: userName,
                age: ageUser
            }
            
            axios.post(URL, Body).then(
                res =>{
                    console.log('Retorno de dados ', res);
                    /*console.log(res.data);
                    console.log(res.data['name']);
                    console.log(res.data['age']);*/

                    let Loaded = ''

                    let FirstName = userName.split(' ')

                    let Content = `<div class = "container">
                                        <div class="card">
                                            <div class="card-body">
                                                <h1>${res.data.message} = ${res.status}</h1>
                                                <p><b>${FirstName[0]}</b>, seu cadastro foi realizado com sucesso.</p>
                                                <h2>${ageUser} anos.</h2>
                                            </div>
                                        </div>
                                    </div>`

                    
                    app.innerHTML = Content

                    setTimeout(() => {
                    }, 5000);


                }
            )

        }

    </script>


</body>
</html>